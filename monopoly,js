function configInicio() {
	jCount = parseInt(document.getElementById("nJogadores").value, 10);

	var jogadorArray = new Array(jCount);
	var jogador;

	jogadorArray.randomize();

	for (var i = 1; i <= pcount; i++) {
		jogador = jogador[jogadorArray[i - 1]];


		p.cor = document.getElementById("jogador" + i + "cor").value.toLowerCase();

		if (document.getElementById("jogador" + i + "ia").value === "0") {
			p.nome = document.getElementById("jogador" + i + "nome").value;
			p.humano = true;
		} else if (document.getElementById("jogador" + i + "ia").value === "1") {
			p.humano = false;
			p.IA = new AITest(p);
		}
	}

	$("#tabuleiro").show();
	$("#configInicio").hide();

	if (jCount === 2) {
		document.getElementById("stats").style.width = "454px";
	} else if (jCount === 3) {
		document.getElementById("stats").style.width = "686px";
	}

	document.getElementById("stats").style.top = "0px";
	document.getElementById("stats").style.left = "0px";

	jogar();
}

function jogar() {
	if (jogo.leilao()) {
		return;
	}

	turno++;
	if (turno > pcontador) {
		turno -= pcontador;
	}

	var p = jogador[turno];
	jogo.resetarDado();

	document.getElementById("pnome").innerHTML = p.nome;

	addAlert("� o turno do(a) " + p.nome + ".");

	// Verifica fal�ncia.
	p.pague(0, p.credor);

	$("#pousar, #opcao, #gerenciar").hide();
	$("#tabuleiro, #controle, #barraDinheiro, #verEstatisticas, #comprar").show();

	contagemdouble = 0;
	if (p.humano) {
		document.getElementById("proximoBotao").focus();
	}
	document.getElementById("proximoBotao").value = "Rolar dado";
	document.getElementById("proximoBotao").title = "Role o dado e mova sua pe�a de acordo";

	$("#dado0").hide();
	$("#dado1").hide();

	if (p.cadeia) {
		$("#pousar").show();
		document.getElementById("pousar").innerHTML = "Voc� est� na cadeia.<input type='button' title='Pague $50 de taxa para sair da cadeia imediatamente.' value='Pague $50 de taxa' onclick='pagueCinquenta();' />";

		if (p.bauDaComunidadeCartaPrisao || p.chanceCartaPrisao) {
			document.getElementById("pousar").innerHTML += "<input type='button' id='sairDaCadeiaBotao' title='Use a carta &quot;Sair da Cadeia de Gra�a&quot;.' onclick='usarCartaPrisao();' value='Usar Carta' />";
		}

		document.getElementById("proximoBotao").title = "Role o dado. Se voc� tirar dois n�meros iguais, sair� da cadeia.";

		if (p.cadeiaRodarDado === 0)
			addAlert("Esse � o primeiro turno de " + p.nome + "na cadeia.");
		else if (p.cadeiaRodarDado === 1)
			addAlert("Esse � o segundo turno de " + p.nome + "na cadeia.");
		else if (p.cadeiaRodarDado === 2) {
			document.getElementById("pousar").innerHTML += "<div>ATEN��O: Se voc� n�o tirar dois n�meros iguais, voc�<i>deve</i> pagar uma taxa de $50.</div>";
			addAlert("Esse � o terceiro turno de " + p.nome + "na cadeia.");
		}

		if (!p.humano && p.IA.pagarFianca()) {
			if (p.bauDaComunidadeCartaPrisao || p.chanceCartaPrisao) {
				usarCartaPrisao()
			} else {
				pagueCinquenta();
			}
		}
	}

	atualizarDinheiro();
	atualizarPosicao();
	atualizarDono();

	$(".dinheiro-barra-indicador").hide();
	$("#p" + turno + "indicador").show();

	if (!p.humano) {
		if (!p.IA.antesDoTurno()) {
			jogo.proximo();
		}
	}
}

